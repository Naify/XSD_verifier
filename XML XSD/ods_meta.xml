<?xml version="1.0" encoding="UTF-8"?>
<!--
*********************************************************************
****                                                             ****
****    Описание метаданных подсистемы "ПодХод" на языке         ****
****    разметки XML                                             ****
****                                                             ****
*********************************************************************
-->
<ods_meta>
    <!--
    *********************************************************************
    ****                                                             ****
    ****    Cхемы данных                                             ****
    ****                                                             ****
    ****    Мин.  кол-во таких тегов на этом уровне: 1               ****
    ****    Макс. кол-во таких тегов на этом уровне: 1               ****
    ****                                                             ****
    *********************************************************************
    -->
    <schemes>
        <!-- 
        Схема данных
         
        name - название схемы
        
        Мин.  кол-во таких тегов на этом уровне: 1
        Макс. кол-во таких тегов на этом уровне: не ограничено
        -->
        <scheme name="input">
            <!-- 
            Типы в рамках схемы данных
            
            Мин.  кол-во таких тегов на этом уровне: 1
            Макс. кол-во таких тегов на этом уровне: 1
            -->
            <types>
                <!-- 
                Тип в рамках схемы данных
                
                name - название типа
                
                Мин.  кол-во таких тегов на этом уровне: 1
                Макс. кол-во таких тегов на этом уровне: не ограничено
                -->
                <type name="msgs">
                    <!-- 
                    Атрибуты типа
                    
                    Мин.  кол-во таких тегов на этом уровне: 1
                    Макс. кол-во таких тегов на этом уровне: 1
                    -->
                    <attrs>
                        <!-- 
                        Атрибут типа
                        
                        name - название атрибута
                        type - тип атрибута (Int, Double, String, Time, 
                               DateTime, Bool, Blob, Link, Array, LinkArray, 
                               FileArray, File)
                        
                        Мин.  кол-во таких тегов на этом уровне: 1
                        Макс. кол-во таких тегов на этом уровне: не ограничено
                        -->
                        <attr type="DateTime" name="create"/>
                        <attr type="String" name="from"/>
                        <attr type="String" name="msg"/>
                        <attr type="Int" name="priority"/>
                        <attr type="DateTime" name="receipt"/>
                        <attr type="String" name="to"/>
                        <attr type="String" name="type"/>
                    </attrs>
                </type>
            </types>
        </scheme>
    </schemes>
    <!--
    *********************************************************************
    ****                                                             ****
    ****    Cубъекты                                                 ****
    ****                                                             ****
    ****    Мин.  кол-во таких тегов на этом уровне: 1               ****
    ****    Макс. кол-во таких тегов на этом уровне: 1               ****
    ****                                                             ****
    *********************************************************************
    -->
    <subjects>
        <!--
        *********************************************************************
        ****                                                             ****
        ****    Пользователи                                             ****
        ****                                                             ****
        ****    Мин.  кол-во таких тегов на этом уровне: 1               ****
        ****    Макс. кол-во таких тегов на этом уровне: 1               ****
        ****                                                             ****
        *********************************************************************
        -->
        <users>
            <!-- 
            Пользователь
             
            name - имя пользователя
            
            Мин.  кол-во таких тегов на этом уровне: 1
            Макс. кол-во таких тегов на этом уровне: не ограничено
            -->
            <user name="cadmin">
                <!-- 
                Права пользователя
                 
                Мин.  кол-во таких тегов на этом уровне: 1
                Макс. кол-во таких тегов на этом уровне: 1
                -->
                <rights>
                    <!-- 
                    Право пользователя
                    
                    name - имя права (всегда "Grant")
                    type - тип права (allow, forbidden)
                    
                    Мин.  кол-во таких тегов на этом уровне: 1
                    Макс. кол-во таких тегов на этом уровне: не ограничено
                    -->
                    <right name="Grant" type="allow">
                        <!-- 
                        Тип схемы данных для которого разрешена передача прав
                        
                        scheme - название схемы данных                         
                        name   - название типа в рамках схемы данных
                        
                        Мин.  кол-во таких тегов на этом уровне: 1
                        Макс. кол-во таких тегов на этом уровне: 1
                        -->
                        <type scheme="input" name="msgs"/>
                        <!-- 
                        Субъекты, которым разрешена передача прав
                        
                        Мин.  кол-во таких тегов на этом уровне: 1
                        Макс. кол-во таких тегов на этом уровне: 1
                        -->
                        <subjects>
                            <!-- 
                            Пользователи, которым разрешена передача прав
                            
                            Мин.  кол-во таких тегов на этом уровне: 1
                            Макс. кол-во таких тегов на этом уровне: 1
                            -->
                            <users>
                                <!-- 
                                Пользователь, которому разрешена передача прав
                                 
                                name - имя пользователя
                                
                                Мин.  кол-во таких тегов на этом уровне: 1
                                Макс. кол-во таких тегов на этом уровне: не ограничено
                                -->
                                <user name="user1"/>
                            </users>
                            <!-- 
                            Группы пользователей, которым разрешена передача прав
                            
                            Мин.  кол-во таких тегов на этом уровне: 1
                            Макс. кол-во таких тегов на этом уровне: 1
                            -->
                            <groups>
                                <!-- 
                                Группа пользователей, которой разрешена передача прав
                                 
                                name - название группы пользователей
                                
                                Мин.  кол-во таких тегов на этом уровне: 1
                                Макс. кол-во таких тегов на этом уровне: не ограничено
                                -->
                                <group name="private"></group>
                            </groups>
                        </subjects>
                    </right>
                </rights>
                <!-- 
                Группы пользователей, в которых состоит пользователь
               
                Мин.  кол-во таких тегов на этом уровне: 1
                Макс. кол-во таких тегов на этом уровне: 1
                -->
                <groups>
                    <!-- 
                    Группа пользователей, в которой состоит пользователь
                    
                    name - имя группы пользователей

                    Мин.  кол-во таких тегов на этом уровне: 1
                    Макс. кол-во таких тегов на этом уровне: не ограничено
                    -->
                    <group name="secret"/>
                    <group name="public"/>
                </groups>
                <!-- 
                Роли пользователя
                 
                Мин.  кол-во таких тегов на этом уровне: 1
                Макс. кол-во таких тегов на этом уровне: 1
                -->
                <roles>
                    <!-- 
                    Роль пользователя
                    
                    name - имя роли (admin, user)

                    Мин.  кол-во таких тегов на этом уровне: 1
                    Макс. кол-во таких тегов на этом уровне: не ограничено
                    -->
                    <role name="admin"/>
                    <role name="user"/>
                </roles>
            </user>
            <user name="user1">
                <roles>
                    <role name="user"/>
                </roles>
            </user>
        </users>
        <!--
        *********************************************************************
        ****                                                             ****
        ****    Группы пользователей                                     ****
        ****                                                             ****
        ****    Мин.  кол-во таких тегов на этом уровне: 1               ****
        ****    Макс. кол-во таких тегов на этом уровне: 1               ****
        ****                                                             ****
        *********************************************************************
        -->
        <groups>
            <!-- 
            Группа пользователей
             
            name     - название группы пользователей
            lockable - определяет блокируемая группа или нет (false, true)
            
            Мин.  кол-во таких тегов на этом уровне: 1
            Макс. кол-во таких тегов на этом уровне: не ограничено
            -->
            <group name="private" lockable="false">
                <!-- 
                Подгруппы
                 
                Мин.  кол-во таких тегов на этом уровне: 1
                Макс. кол-во таких тегов на этом уровне: 1
                -->
                <groups>
                    <!-- 
                    Подгруппа 
                    (помимо этого существует как самостоятельная группа пользователей)
                    
                    name - имя подгруппы

                    Мин.  кол-во таких тегов на этом уровне: 1
                    Макс. кол-во таких тегов на этом уровне: не ограничено
                    -->
                    <group name="secret"></group>
                </groups>
                <!-- 
                Права группы пользователей
                 
                Мин.  кол-во таких тегов на этом уровне: 1
                Макс. кол-во таких тегов на этом уровне: 1
                -->
                <rights>
                    <!-- 
                    Право группы пользователей
                    
                    name - имя права (всегда "Grant")
                    type - тип права (allow, forbbiden)
                    
                    Мин.  кол-во таких тегов на этом уровне: 1
                    Макс. кол-во таких тегов на этом уровне: не ограничено
                    -->
                    <right name="Grant" type="forbidden">
                        <!-- 
                        Тип схемы данных для которого разрешена передача прав
                        
                        scheme - название схемы данных                         
                        name   - название типа в рамках схемы данных
                        
                        Мин.  кол-во таких тегов на этом уровне: 1
                        Макс. кол-во таких тегов на этом уровне: 1
                        -->
                        <type scheme="input" name="msgs"/>
                        <!-- 
                        Субъекты, которым разрешена передача прав
                        
                        Мин.  кол-во таких тегов на этом уровне: 1
                        Макс. кол-во таких тегов на этом уровне: 1
                        -->
                        <subjects>
                            <!-- 
                            Пользователи, которым разрешена передача прав
                            
                            Мин.  кол-во таких тегов на этом уровне: 1
                            Макс. кол-во таких тегов на этом уровне: 1
                            -->
                            <users>
                                <!-- 
                                Пользователь, которому разрешена передача прав
                                 
                                name - имя пользователя
                                
                                Мин.  кол-во таких тегов на этом уровне: 1
                                Макс. кол-во таких тегов на этом уровне: не ограничено
                                -->
                                <user name="user1"/>
                            </users>
                            <!-- 
                            Группы пользователей, которым разрешена передача прав
                            
                            Мин.  кол-во таких тегов на этом уровне: 1
                            Макс. кол-во таких тегов на этом уровне: 1
                            -->
                            <groups>
                                <!-- 
                                Группа пользователей, которой разрешена передача прав
                                 
                                name - название группы пользователей
                                
                                Мин.  кол-во таких тегов на этом уровне: 1
                                Макс. кол-во таких тегов на этом уровне: не ограничено
                                -->
                                <group name="secret"></group>
                            </groups>
                        </subjects>
                    </right>
                </rights>
            </group>
            <group name="secret" lockable="true"/>
            <group name="public" lockable="false"/>
        </groups>
    </subjects>
</ods_meta>